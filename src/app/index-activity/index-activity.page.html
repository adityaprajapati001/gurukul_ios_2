<!-- <ion-menu side="end" contentId="main-content" menuId="endMenu">
  <ion-header class="menu_header">
    <ion-toolbar>
      <ion-icon (click)="onClose()" class="p-1" slot="end" size="large" name="close-sharp"></ion-icon>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <div class="d-flex align-items-start p-2">
      <ion-img src="assets/img/document.png" alt=""></ion-img>
      <div class="ms-1">
        <span class="main_span">Page</span>
        <div class="d-flex align-items-start">
          <p class="menu_content m-0 p-0">
            Click here for <strong>Spot the Phish</strong> Content
          </p>
          <ion-img src="assets/img/share.png" alt=""></ion-img>
        </div>
      </div>
    </div>
    <hr class="menu_hr m-1" />
    <div class="d-flex align-items-center justify-content-between">
      <div class="m-2">
        <div class="d-flex align-items-center mb-1">
          <ion-img src="assets/icon/mortarboard_grey.svg" alt=""></ion-img>
          <span class="course_span ms-1">Course</span>
        </div>
        <ion-text>Cyber Security Awareness</ion-text>
      </div>
      <ion-icon class="p-1" color="primary" name="chevron-forward-sharp"></ion-icon>
    </div>
    <hr class="menu_hr m-1" />
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center m-2">
        <ion-img src="assets/icon/blog.svg" alt=""></ion-img>
        <span class="course_span ms-1">Blog</span>
      </div>
      <ion-icon color="primary" class="p-1" name="chevron-forward-sharp"></ion-icon>
    </div>
    <hr class="menu_hr m-1" />
  </ion-content>
  <ion-footer class="menu_footer">
    <ion-button size="block" style="--border-radius: 5px;"><ion-icon color="light" name="refresh-sharp"></ion-icon><span
        class="ref_btn text-capitalize">Refresh</span></ion-button>
  </ion-footer>
</ion-menu> -->

<div class="ion-page" id="main-content">
  <ion-header [translucent]="true">
    <ion-toolbar>
      <ion-back-button color="primary" (click)="onBack()" slot="start" defaultHref=""></ion-back-button>
      <!-- <ion-img class="p-2" slot="end" src="assets/icon/info.svg" alt="" (click)="onIndex()"></ion-img> -->
    </ion-toolbar>
  </ion-header>

  <ion-content [fullscreen]="true">
    <div class="main h-100">
      <div class="p-3 d-flex align-items-center">
        <ion-img src="assets/img/document.png" alt=""></ion-img>
        <p class="content_p ms-2" [innerHTML]="data.name">

        </p>
      </div>
      <div class="content_main" *ngIf="showPrevious">
        <div class="col-12">
          <div class="content_head mb-3">
            <ion-badge color="primary" class="col-2 card_badge">To Do&nbsp;<ion-icon
                name="caret-down-sharp"></ion-icon></ion-badge>
          </div>
        </div>


        <!-- <div *ngIf="data.contents.length">
          <ion-list *ngFor="let item of data.contents; let i = index">
               
            <div id="iframContainer" *ngIf="!item.isHaveImage && item.isHtmlFile">
            <iframe id="contentFrame" (load)="handleIframeLoad($event)" #iframe [innerHtml]="extractImageUrl(item.fileurl) + '?token=' + utility.getToken()"></iframe>
              <p>
                {{item.fileurl}}
              </p>
              <p>Modified URL with Token: {{ modifiedUrlWithToken }}</p>
              <iframe [src]="sanitizedUrl" width="600" height="400" frameborder="0"></iframe>
              <jspdf></jspdf>
              hgfhgfh
              
            <iframe id="inlineFrameExample" [src]="embeddedLink"  width="500" height="500">
            </iframe>

            <iframe id="inlineFrameExample" [src]="htmlFileUrl"  width="500" height="500">
            </iframe>
          <iframe *ngIf="pdfUrl" [src]="pdfUrl" style="width:100%; height:90vh;"></iframe>
          
          <ngx-doc-viewer [url]="DemoDoc " viewer ="pdf" style="width:100%;height:90vh;"></ngx-doc-viewer>

          <ngx-doc-viewer src="sanitizedUrl | safeHtml" [style.width.px]="800" [style.height.px]="600" viewer="google"></ngx-doc-viewer>
          <iframe src="sanitizedUrl" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;">    Your browser doesn't support iframes</iframe>
          <ngx-doc-viewer frame-src atlassian-companion url="{{modifiedUrlWithToken}}" viewer="google"
            style="width:100%;height:93vh;">
          </ngx-doc-viewer>
          
          </div>
        </ion-list>
      </div> -->
      
      <div class="ion-padding" [innerHTML]="description | safeHtml"></div>
  
        <div *ngIf="data.contents.length">
          <!-- <ion-list *ngFor="let item of data.contents; let i = index"> -->
            <ion-list *ngFor="let item of data.contents; let i = index">
            <div *ngIf="item.showContent && isShown(data.contents,item.filesize)">
              

              <!-- <ng-container *ngIf="item.isHaveImage">
              <p [innerHTML]="description | safeHtml" class="ion-padding" ></p>
              </ng-container> -->
              

              <ng-container *ngIf="!item.isHtmlFile && !item.sanitizedVideoUrl && item.isHaveImage">
                <ion-img-viewer class="ion-padding" imageViewer [src]="extractImageUrl(item.fileurl) + '?token=' + utility.getToken()"
                  alt=""></ion-img-viewer>
                  <!-- <div [innerHTML]="description | safeHtml"></div> -->
              </ng-container>

              <ng-container id="iframContainer" *ngIf="!item.isHaveImage && item.isHtmlFile">      
                <!-- <iframe id="contentFrame" (load)="handleIframeLoad($event)" #iframe [innerHtml]="extractImageUrl(item.fileurl) + '?token=' + utility.getToken()"></iframe> -->
                <!-- <div class="ion-padding" [innerHTML]="description | safeHtml"></div> -->
              </ng-container>

              

               <!-- <div [innerHTML]="courseData"></div> -->

              <!-- <div [innerHTML]="description | safeHtml"></div> -->
              
              
              <!-- <div>
                <iframe *ngIf="pdfUrl" [src]="pdfUrl" style="width: 100%; height: 90vh;" frameborder="0"></iframe>
              </div> -->

              <ng-container *ngIf="item?.sanitizedVideoUrl">
                <video controls width="100%">
                <source [src]="item.sanitizedVideoUrl" type="video/mp4">
                Your browser does not support the video tag.
                </video>
                </ng-container>
            </div>
          </ion-list>
        </div>
      </div>
      <div class="content_main" *ngIf="showNext">
        <div class="col-12">
          <div class="content_head mb-3">
            <ion-badge color="success" class="col-2 card_badge">Done&nbsp;<ion-icon name="caret-down-sharp"
                (click)="presentPopover($event)"></ion-icon></ion-badge>
            <ion-popover #popover [isOpen]="isOpen" (didDismiss)="isOpen = false">
              <ng-template>
                <ion-content>
                  <ion-list class="p-0">
                    <ion-item lines="none">
                      <div>
                        <h1 class="pop_head m-0 p-0">You Must</h1>
                        <p class="pop_body m-0 p-0">Received a Grade</p>
                      </div>
                    </ion-item>
                  </ion-list>
                </ion-content>
              </ng-template>
            </ion-popover>
          </div>
        </div>
        <div class="col-12 p-3">
          <div class="box_next h-100">
            <div class="content_next p-2">
              <p class="body_next p-0 m-0">Grading Method</p>
              <p class="attempt p-0 m-0">Last Attempt</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
  <ion-footer [translucent]="true">
  </ion-footer>
  <!-- <ion-footer [translucent]="true">
    <ion-toolbar>
      <div class="col-12 d-flex align-items-center justify-content-between">
        <div>
          <ion-button class="act_btn" (click)="onPrevious()"><ion-icon color="primary" slot="start" size="small"
              name="chevron-back-sharp"></ion-icon>Previous Activity</ion-button>
        </div>
        <div>
          <ion-button class="act_btn" (click)="onNext()">Next Activity<ion-icon size="small" slot="end" color="primary"
              name="chevron-forward-sharp"></ion-icon></ion-button>
        </div>
      </div>
    </ion-toolbar>
  </ion-footer> -->
</div>
<!-- <ion-list *ngFor="let item of data.contents">
  <iframe id="contentFrame" (load)="handleIframeLoad($event)" #iframe [src]="data.contents[1].htmlFileUrl"></iframe>

  <iframe id="contentFrame" #iframe [src]="item.htmlFileUrl"></iframe>
</ion-list> -->