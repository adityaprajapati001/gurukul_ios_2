"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6131],{5346:(T,g,s)=>{s.d(g,{ez:()=>l,tP:()=>v});var v=function(c){return c.Documents="DOCUMENTS",c.Data="DATA",c.Library="LIBRARY",c.Cache="CACHE",c.External="EXTERNAL",c.ExternalStorage="EXTERNAL_STORAGE",c}(v||{}),l=function(c){return c.UTF8="utf8",c.ASCII="ascii",c.UTF16="utf16",c}(l||{})},1461:(T,g,s)=>{s.d(g,{fy:()=>a,tP:()=>l.tP});var v=s(2726),l=s(5346);const a=(0,v.fo)("Filesystem",{web:()=>s.e(4522).then(s.bind(s,4522)).then(d=>new d.FilesystemWeb)})},6131:(T,g,s)=>{s.r(g),s.d(g,{IndexActivitiesPageModule:()=>q});var v=s(6814),l=s(95),a=s(3134),d=s(4875),c=s(5861),m=s(1461),w=s(2726),u=s(553),x=s(5117),e=s(9212),y=s(2359),b=s(3389),C=s(6593);const P=["popover"],k=["iframe"];function S(n,_){1&n&&(e.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"ion-badge",36),e._uU(4,"To Do\xa0"),e._UZ(5,"ion-icon",37),e.qZA()()(),e._UZ(6,"div",38),e.qZA())}function V(n,_){1&n&&(e.TgZ(0,"ion-content")(1,"ion-list",47)(2,"ion-item",48)(3,"div")(4,"h1",49),e._uU(5,"You Must"),e.qZA(),e.TgZ(6,"p",50),e._uU(7,"Received a Grade"),e.qZA()()()()())}function N(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"ion-badge",39),e._uU(4,"Done\xa0"),e.TgZ(5,"ion-icon",40),e.NdJ("click",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.presentPopover(i))}),e.qZA()(),e.TgZ(6,"ion-popover",41,42),e.NdJ("didDismiss",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.isOpen=!1)}),e.YNc(8,V,8,0,"ng-template"),e.qZA()()(),e.TgZ(9,"div",38)(10,"div",43)(11,"div",44)(12,"p",45),e._uU(13,"Grading Method"),e.qZA(),e.TgZ(14,"p",46),e._uU(15,"Last Attempt"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("isOpen",t.isOpen)}}function E(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e._UZ(1,"div",54),e.TgZ(2,"div",54)(3,"ion-button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showUsedVehicalCheckCondition())}),e._uU(4,"Next\xa0"),e._UZ(5,"ion-img",56),e.qZA()()()}}function J(n,_){if(1&n&&(e.TgZ(0,"div",51)(1,"div"),e.YNc(2,E,6,0,"div",52),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.showUsedVehical&&t.data.contents.length>0)}}function M(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"ion-button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showUsedVehicalprreviouesCheckCondition1())}),e._UZ(3,"ion-img",58),e._uU(4,"\xa0Previous"),e.qZA()(),e.TgZ(5,"div",54)(6,"ion-button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showUsedVehicalCheckCondition1())}),e._uU(7,"Next\xa0"),e._UZ(8,"ion-img",56),e.qZA()()()}}function D(n,_){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,M,9,0,"div",52),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.showUsedVehical1)}}function F(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"ion-button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showUsedVehicalprreviouesCheckCondition2())}),e._UZ(3,"ion-img",58),e._uU(4,"\xa0Previous"),e.qZA()(),e._UZ(5,"div",54),e.qZA()}}function O(n,_){if(1&n&&(e.TgZ(0,"div",51)(1,"div"),e.YNc(2,F,6,0,"div",52),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.showUsedVehical2)}}const Y=[{path:"",component:(()=>{class n{constructor(t,o,i,r,h,U,Z,I){var f=this;this.menuCtrl=t,this.route=o,this.tokenService=i,this.utility=r,this.sanitizer=h,this.el=U,this.modalController=Z,this.router=I,this.isOpen=!1,this.showPrevious=!0,this.showNext=!1,this.isHaveImage=!1,this.showUsedVehical=!0,this.showUsedVehical1=!1,this.showUsedVehical2=!1,this.currentIndex=0,this.token=this.tokenService.getToken(),this.route.queryParams.subscribe(function(){var A=(0,c.Z)(function*(p){f.isHaveImage=!1,p&&p.data&&(f.data=JSON.parse(p.data),console.log("take params data",f.data))});return function(p){return A.apply(this,arguments)}}())}ngOnInit(){var t=this;return(0,c.Z)(function*(){t.token=t.tokenService.getToken(),console.log("aaaaaaaaaa"),t.data.contents=yield Promise.all(t.data.contents.map(function(){var o=(0,c.Z)(function*(i,r){return i.isHtmlFile=i.filename.includes(".html"),i.sanitizedVideoUrl=i?.mimetype&&i.mimetype.includes("video")?t.sanitizer.bypassSecurityTrustResourceUrl(t.extractImageUrl(i.fileurl)+"?token="+t.utility.getToken()):"",i.htmlFileUrl=i.filename.includes(".html")?yield t.downloadFile(t.extractImageUrl(i.fileurl)+"?token="+("page"==t.data.modname?u.N.adminToken:t.utility.getToken()),"index_activity/"+i.filename,r):"",(i.filename.includes(".PNG")||i?.mimetype?.includes("video")||i.filename.includes(".jpg"))&&(t.isHaveImage=!0),i});return function(i,r){return o.apply(this,arguments)}}()))})()}handleIframeLoad(t){const o=t.target,i=o.contentDocument||o.contentWindow.document,r=i.createElement("style");r.textContent="\n      * {\n        pointer-events: none;\n      }\n      a {\n        pointer-events: auto;\n      }\n    ",i.head.appendChild(r)}onIndex(){this.menuCtrl.open("endMenu")}showUsedVehicalCheckCondition(){this.showUsedVehical=!1,this.showUsedVehical1=!0,this.showUsedVehical2=!1}showUsedVehicalCheckCondition1(){this.showUsedVehical=!1,this.showUsedVehical1=!1,this.showUsedVehical2=!0}showUsedVehicalprreviouesCheckCondition1(){this.showUsedVehical=!0,this.showUsedVehical1=!1,this.showUsedVehical2=!1}showUsedVehicalCheckCondition2(){this.showUsedVehical=!1,this.showUsedVehical1=!1,this.showUsedVehical2=!0}showUsedVehicalprreviouesCheckCondition2(){this.showUsedVehical=!1,this.showUsedVehical1=!0,this.showUsedVehical2=!1}openViewer(){var t=this;return(0,c.Z)(function*(){return yield(yield t.modalController.create({component:x.mW,componentProps:{src:"./assets/img/demo.jpg"},cssClass:"ion-img-viewer",keyboardClose:!0,showBackdrop:!0})).present()})()}onClose(){this.menuCtrl.close("endMenu")}onBack(){let t={queryParams:{data:JSON.stringify(this.data)}};this.router.navigate(["cyber-security"],t)}presentPopover(t){this.popover.event=t,this.isOpen=!0}onPrevious(){this.showPrevious=!0,this.showNext=!1}onNext(){this.showNext=!0,this.showPrevious=!1}extractImageUrl(t){const o=t.indexOf("?");return-1!==o?t.substring(0,o):t}downloadFile(t,o,i){var r=this;return(0,c.Z)(function*(){try{const h=yield fetch(t);console.log("fetch res",h);const U=yield h.blob();console.log("blob",U);const Z=yield r.blobToBase64(U);console.log("blobToBase64",Z);const f=`gurukul/${(new Date).toLocaleString().replace(/[,:\s\/]/g,"-")}/${i}/${o}`;console.log("path",f),console.log("data",m.tP.Data),console.log("Documents",m.tP.Documents);const A=yield m.fy.writeFile({path:f,data:Z,directory:m.tP.External,recursive:!0});console.log("File Downloaded Successfully!"),console.log("file save",A);const p=w.dV.convertFileSrc(A.uri);return console.log("convertedUrl",p),r.sanitizer.bypassSecurityTrustResourceUrl(p)}catch(h){throw console.error("Error saving image:",h),h}})()}blobToBase64(t){return new Promise((o,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onloadend=()=>{const h=r.result.split(",")[1];o(h)},r.onerror=h=>{i(h)}})}nextContent(){this.currentIndex<this.data.contents.length-1&&this.currentIndex++}previousContent(){this.currentIndex>0&&this.currentIndex--}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(a._q),e.Y36(d.gz),e.Y36(y.B),e.Y36(b.b),e.Y36(C.H7),e.Y36(e.SBq),e.Y36(a.IN),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-index-activities"]],viewQuery:function(o,i){if(1&o&&(e.Gf(P,5),e.Gf(k,5)),2&o){let r;e.iGM(r=e.CRH())&&(i.popover=r.first),e.iGM(r=e.CRH())&&(i.iframe=r.first)}},decls:56,vars:9,consts:[["side","end","contentId","main-content","menuId","endMenu"],[1,"menu_header"],["slot","end","size","large","name","close-sharp",1,"p-1",3,"click"],[1,"d-flex","align-items-start","p-2"],["src","assets/img/document.png","alt",""],[1,"ms-1"],[1,"main_span"],[1,"d-flex","align-items-start"],[1,"menu_content","m-0","p-0"],["src","assets/img/share.png","alt",""],[1,"menu_hr","m-1"],[1,"d-flex","align-items-center","justify-content-between"],[1,"m-2"],[1,"d-flex","align-items-center","mb-1"],["src","assets/icon/mortarboard_grey.svg","alt",""],[1,"course_span","ms-1"],["color","primary","name","chevron-forward-sharp",1,"p-1"],[1,"d-flex","align-items-center","m-2"],["src","assets/icon/blog.svg","alt",""],[1,"menu_footer"],["size","block",2,"--border-radius","5px"],["color","light","name","refresh-sharp"],[1,"ref_btn","text-capitalize"],["id","main-content",1,"ion-page"],[3,"translucent"],["color","primary","slot","start","defaultHref","",3,"click"],[3,"fullscreen"],[1,"main","h-100"],[1,"p-3","d-flex","align-items-center"],[1,"content_p","ms-2",3,"innerHTML"],["class","content_main",4,"ngIf"],[1,"p-1"],["class","col-12 body_sub",4,"ngIf"],[1,"content_main"],[1,"col-12"],[1,"content_head","mb-3"],["color","primary",1,"col-2","card_badge"],["name","caret-down-sharp"],[1,"col-12","p-3"],["color","success",1,"col-2","card_badge"],["name","caret-down-sharp",3,"click"],[3,"isOpen","didDismiss"],["popover",""],[1,"box_next","h-100"],[1,"content_next","p-2"],[1,"body_next","p-0","m-0"],[1,"attempt","p-0","m-0"],[1,"p-0"],["lines","none"],[1,"pop_head","m-0","p-0"],[1,"pop_body","m-0","p-0"],[1,"col-12","body_sub"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],["expand","block","color","primary",1,"btn_pwd",3,"click"],["src","assets/icon/ryt_arrow.svg","alt",""],["expand","block","color","primary",1,"btn_btm",3,"click"],["src","assets/icon/lft_arrow.svg","alt",""]],template:function(o,i){1&o&&(e.TgZ(0,"ion-menu",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-icon",2),e.NdJ("click",function(){return i.onClose()}),e.qZA()()(),e.TgZ(4,"ion-content")(5,"div",3),e._UZ(6,"ion-img",4),e.TgZ(7,"div",5)(8,"span",6),e._uU(9,"Page"),e.qZA(),e.TgZ(10,"div",7)(11,"p",8),e._uU(12," Click here for "),e.TgZ(13,"strong"),e._uU(14,"Spot the Phish"),e.qZA(),e._uU(15," Content "),e.qZA(),e._UZ(16,"ion-img",9),e.qZA()()(),e._UZ(17,"hr",10),e.TgZ(18,"div",11)(19,"div",12)(20,"div",13),e._UZ(21,"ion-img",14),e.TgZ(22,"span",15),e._uU(23,"Course"),e.qZA()(),e.TgZ(24,"ion-text"),e._uU(25,"Cyber Security Awareness"),e.qZA()(),e._UZ(26,"ion-icon",16),e.qZA(),e._UZ(27,"hr",10),e.TgZ(28,"div",11)(29,"div",17),e._UZ(30,"ion-img",18),e.TgZ(31,"span",15),e._uU(32,"Blog"),e.qZA()(),e._UZ(33,"ion-icon",16),e.qZA(),e._UZ(34,"hr",10),e.qZA(),e.TgZ(35,"ion-footer",19)(36,"ion-button",20),e._UZ(37,"ion-icon",21),e.TgZ(38,"span",22),e._uU(39,"Refresh"),e.qZA()()()(),e.TgZ(40,"div",23)(41,"ion-header",24)(42,"ion-toolbar")(43,"ion-back-button",25),e.NdJ("click",function(){return i.onBack()}),e.qZA()()(),e.TgZ(44,"ion-content",26)(45,"div",27)(46,"div",28),e._UZ(47,"ion-img",4)(48,"p",29),e.qZA(),e.YNc(49,S,7,0,"div",30)(50,N,16,1,"div",30),e.qZA()(),e.TgZ(51,"ion-footer",24)(52,"ion-toolbar",31),e.YNc(53,J,3,1,"div",32)(54,D,2,1,"div",32)(55,O,3,1,"div",32),e.qZA()()()),2&o&&(e.xp6(41),e.Q6J("translucent",!0),e.xp6(3),e.Q6J("fullscreen",!0),e.xp6(4),e.Q6J("innerHTML",i.data.name,e.oJD),e.xp6(),e.Q6J("ngIf",i.showPrevious),e.xp6(),e.Q6J("ngIf",i.showNext),e.xp6(),e.Q6J("translucent",!0),e.xp6(2),e.Q6J("ngIf",i.showUsedVehical&&i.data.contents.length>1),e.xp6(),e.Q6J("ngIf",i.showUsedVehical1&&i.data.contents.length>2),e.xp6(),e.Q6J("ngIf",i.showUsedVehical2))},dependencies:[v.O5,a.yp,a.YG,a.W2,a.fr,a.Gu,a.gu,a.Xz,a.Ie,a.q_,a.z0,a.yW,a.sr,a.d8,a.oU]})}return n})()}];let B=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(Y),d.Bz]})}return n})(),q=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[v.ez,l.u5,a.Pc,x.YL,B]})}return n})()},2359:(T,g,s)=>{s.d(g,{B:()=>c});var v=s(9212);const l="auth-token",a="auth-user",d="admin-token";let c=(()=>{class m{constructor(){}getAdminToken(){return localStorage.getItem(d)}saveAdminToken(u){localStorage.removeItem(d),localStorage.setItem(d,u)}saveToken(u){localStorage.removeItem(l),localStorage.setItem(l,u)}getToken(){return localStorage.getItem(l)}removeToken(){localStorage.removeItem(l)}saveUser(u){localStorage.removeItem(a),localStorage.setItem(a,JSON.stringify(u))}getUser(){const u=window.localStorage.getItem(a);return u?JSON.parse(u):{}}logOut(){localStorage.removeItem("username"),localStorage.removeItem("auth-user"),localStorage.removeItem("auth-token"),localStorage.removeItem("first_time_refresh")}static#e=this.\u0275fac=function(x){return new(x||m)};static#t=this.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);