"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2769],{2769:(x,l,c)=>{c.r(l),c.d(l,{RecentItemsPageModule:()=>b});var a=c(6814),h=c(95),r=c(3134),d=c(4875),e=c(9212),p=c(5175),v=c(2359);function f(n,m){1&n&&(e.TgZ(0,"div",9)(1,"h1",10),e._uU(2,"Recently Accessed Items"),e.qZA(),e.TgZ(3,"div",11),e._UZ(4,"ion-img",12),e.qZA(),e.TgZ(5,"p",13),e._uU(6,"No Recent Items"),e.qZA()())}function Z(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e.NdJ("click",function(){const o=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onCardClick(o))}),e.TgZ(2,"div"),e._UZ(3,"ion-img",16),e.qZA(),e.TgZ(4,"div",17)(5,"div",18)(6,"div",19)(7,"h5",20),e._uU(8),e.qZA()(),e.TgZ(9,"p",21),e._uU(10," Course "),e.qZA(),e.TgZ(11,"div",22)(12,"div",23),e._UZ(13,"div",24),e.qZA(),e.TgZ(14,"div",25),e._uU(15),e.ALo(16,"number"),e.qZA()()()()()()}if(2&n){const t=m.$implicit;e.xp6(3),e.Q6J("src",t.courseimage?t.courseimage:"assets/img/images.png"),e.xp6(5),e.hij(" ",t.fullname," "),e.xp6(5),e.Udp("width",t.progress+"%"),e.xp6(2),e.hij(" ",e.xi3(16,5,t.progress,"1.0-2"),"% ")}}const I=[{path:"",component:(()=>{class n{constructor(t,s,i,o){this.menuCtrl=t,this.authService=s,this.router=i,this.tokenService=o,this.recentData=[],this.userData=[]}ngOnInit(){this.getUser()}getUser(){this.userId=localStorage.getItem("username"),this.authService.getUserInfo(this.userId).subscribe({next:t=>{console.log(t),this.userData=t;for(let s=0;s<t.length;s++)this.id=this.userData[s].id;console.log(this.id),this.getRecentCourses(),this.tokenService.saveUser(this.userData)},error:t=>{console.error("Login failed:",t)}})}getRecentCourses(){console.log(this.id),this.authService.getRecentCourses().subscribe({next:t=>{console.log("recent Data",t),t.sort((i,o)=>o.timeaccess-i.timeaccess);const s=t.filter((i,o,g)=>o===g.findIndex(u=>u.cmid===i.cmid&&u.name===i.name));this.recentData=s.slice(0,10)},error:t=>{console.error("Login failed:",t)}})}onCardClick(t){console.log(t);let s={queryParams:{data:JSON.stringify(t)}};this.router.navigate(["cyber-security"],s)}onArrow(){this.menuCtrl.open("menu")}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(r._q),e.Y36(p.e),e.Y36(d.F0),e.Y36(v.B))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-recent-items"]],decls:10,vars:2,consts:[["side","end","contentId","main-content","menuId","menu"],[1,"ion-padding"],["class","col-12 text-center",4,"ngIf"],[1,"col-12"],[1,"menu_heading","mb-3","text-center"],["class","card mb-2",4,"ngFor","ngForOf"],["id","main-content"],["slot","fixed",1,"arrow_btn",3,"click"],["src","assets/img/sideArrow.png","alt",""],[1,"col-12","text-center"],[1,"menu_heading","mb-3"],[1,"d-flex","justify-content-center","mb-3"],["src","assets/img/recent_access.png"],[1,"menu_body"],[1,"card","mb-2"],[1,"col-12","card_main",3,"click"],["alt","Image",1,"img-fluid","rounded-start",3,"src"],[1,"col-10","card_sub"],[1,"card_body","p-0"],[1,"col-12","card_body_sub"],[1,"card_displayname"],[1,"card_text_badge"],[1,"col-12","bar_main"],[1,"progress_bar_container","col-10"],[1,"progress_bar"],[1,"percentage_display","col-2"]],template:function(s,i){1&s&&(e.TgZ(0,"ion-menu",0)(1,"ion-content",1),e.YNc(2,f,7,0,"div",2),e.TgZ(3,"div",3)(4,"h1",4),e._uU(5,"Recently Accessed Items"),e.qZA(),e.YNc(6,Z,17,8,"div",5),e.qZA()()(),e.TgZ(7,"div",6)(8,"ion-button",7),e.NdJ("click",function(){return i.onArrow()}),e._UZ(9,"ion-img",8),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("ngIf",!i.recentData),e.xp6(4),e.Q6J("ngForOf",i.recentData))},dependencies:[a.sg,a.O5,r.YG,r.W2,r.Xz,r.z0,a.JJ],styles:["ion-button[slot=fixed][_ngcontent-%COMP%]{top:50%;right:0}.arrow_btn[_ngcontent-%COMP%]{width:40px;--background: none;--box-shadow: none;--padding-bottom: none;--padding-end: none;--padding-start: none;--padding-top: none}"]})}return n})()}];let _=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(I),d.Bz]})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[a.ez,h.u5,r.Pc,_]})}return n})()}}]);