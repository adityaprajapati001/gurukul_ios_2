"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8970],{5897:(h,l,e)=>{e.d(l,{A:()=>d});const d=(0,e(2726).fo)("Browser",{web:()=>e.e(3671).then(e.bind(e,3671)).then(s=>new s.BrowserWeb)})},8970:(h,l,e)=>{e.r(l),e.d(l,{NotificationPageModule:()=>z});var r=e(6814),d=e(95),s=e(3134),g=e(4875),f=e(5861),u=e(5897),t=e(9212),P=e(5175),p=e(2359),O=e(5148);function x(i,m){if(1&i&&(t.TgZ(0,"div",22)(1,"div",23),t._UZ(2,"ion-img",24),t.TgZ(3,"p",25),t._uU(4),t.qZA()()()),2&i){const n=m.$implicit;t.xp6(2),t.Q6J("src",n.profileimageurl),t.xp6(2),t.Oqu(n.fullname)}}function C(i,m){if(1&i&&(t.ynx(0),t.YNc(1,x,5,2,"div",21),t.BQk()),2&i){const n=t.oxw();t.xp6(),t.Q6J("ngForOf",n.userData)}}function M(i,m){1&i&&(t.TgZ(0,"div",26),t._UZ(1,"ion-img",27),t.TgZ(2,"p",28),t._uU(3,"There are no notifications"),t.qZA()())}function Z(i,m){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",31),t.NdJ("click",function(){const c=t.CHM(n).$implicit,_=t.oxw(2);return t.KtG(_.toggleNotificationDetailAlert(c))}),t.TgZ(1,"ion-avatar",32),t._UZ(2,"img",33),t.qZA(),t.TgZ(3,"ion-label")(4,"strong"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"ion-note",34),t._uU(8),t.qZA()(),t.TgZ(9,"div",35)(10,"ion-note",36),t._uU(11),t.ALo(12,"date"),t.qZA(),t._UZ(13,"ion-icon",37),t.qZA()()}if(2&i){const n=m.$implicit;t.Q6J("button",!0),t.xp6(2),t.Q6J("src",n.iconurl,t.LSH),t.xp6(3),t.Oqu(n.shortenedsubject),t.xp6(3),t.hij(" ",n.smallmessage," "),t.xp6(3),t.Oqu(t.xi3(12,5,n.timecreated,"h:mm"))}}function v(i,m){if(1&i&&(t.TgZ(0,"ion-list",29),t.YNc(1,Z,14,8,"ion-item",30),t.qZA()),2&i){const n=t.oxw();t.Q6J("inset",!0),t.xp6(),t.Q6J("ngForOf",n.notifications)}}const N=[{path:"",component:(()=>{class i{constructor(n,a,o,c,_){this.authService=n,this.tokenService=a,this.menuCtrl=o,this.router=c,this.toastCtrl=_,this.notifications=[],this.isNotificationAlertOpen=!1,this.singleNotificationData="",this.alertButtons=["Ok"],this.userData=[]}ionViewDidEnter(){this.userImg=this.tokenService.getUser()[0].profileimageurl,this.getNotifications()}ngOnInit(){var n=this;return(0,f.Z)(function*(){n.userId=localStorage.getItem("username"),n.authService.getUserInfo(n.userId).subscribe({next:a=>{console.log(a),n.userData=a;for(let o=0;o<a.length;o++)n.userImg=n.userData[o].profileimageurl},error:a=>{console.error("Login failed:",a)}})})()}getNotifications(){this.userId=this.tokenService.getUser(),console.log(this.userId[0].username),this.authService.getNotificationByUserId(this.userId[0].id).subscribe(n=>{console.log(n),this.notifications=n.notifications})}toggleNotificationDetailAlert(n){this.isNotificationAlertOpen=!this.isNotificationAlertOpen,this.singleNotificationData=n}onProfile(){this.menuCtrl.open("menuProfil")}onLogout(){var n=this;return(0,f.Z)(function*(){n.tokenService.logOut(),n.presentToast("Logged Out successfully","success"),n.router.navigate(["login"]).then(()=>{setTimeout(()=>{location.reload()},1e3)})})()}presentToast(n,a){var o=this;return(0,f.Z)(function*(){(yield o.toastCtrl.create({message:n,duration:1500,position:"top",color:a})).present()})()}onGrades(){this.router.navigate(["grades"])}onBadges(){this.router.navigate(["badges"])}openCapacitorSite(){return(0,f.Z)(function*(){yield u.A.open({url:"https://gurukul.skfin.in"})})()}onClose(){this.menuCtrl.close("menuProfil")}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(P.e),t.Y36(p.B),t.Y36(s._q),t.Y36(g.F0),t.Y36(s.yF))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-notification"]],decls:31,vars:11,consts:[["side","end","contentId","main-content","menuId","menuProfil"],["lines","none"],["slot","start",1,"profile_heading"],["slot","end","size","large","name","close-sharp",1,"p-1",3,"click"],[1,"col-12","text-center","ion-padding"],[1,"profle_title"],[1,"profile_hr"],[4,"ngIf"],[1,"ion-padding",3,"translucent"],["expand","block","color","danger",1,"logout_btn",3,"click"],["name","power-sharp"],[1,"logout_span","p-1"],[1,"mb-2",3,"translucent"],["lines","none",1,"p-0","m-0"],["slot","start","src","assets/img/Logo 3x.jpg",1,"profile_img","m-2"],["slot","start",1,"header"],["slot","end",1,"profile_img",3,"src","click"],["id","main-content",3,"fullscreen"],["class","main text-center",4,"ngIf"],[3,"inset",4,"ngIf"],[3,"isOpen","header","message","buttons","didDismiss"],["class","d-flex align-items-center justify-content-between ion-padding",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between","ion-padding"],[1,"d-flex","align-items-center"],["alt","",1,"img-fluid","rounded-start","profile_img",3,"src"],[1,"profile_name","m-1"],[1,"main","text-center"],["src","assets/icon/bell.svg",1,"image","mb-1"],[1,"main_p"],[3,"inset"],["detail","false",3,"button","click",4,"ngFor","ngForOf"],["detail","false",3,"button","click"],["aria-hidden","true","slot","start"],["alt","",3,"src"],["color","medium",1,"ion-text-wrap"],["slot","end",1,"metadata-end-wrapper"],["color","medium"],["color","medium","name","chevron-forward"]],template:function(a,o){1&a&&(t.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-item",1)(4,"ion-label",2),t._uU(5,"User Account"),t.qZA(),t.TgZ(6,"ion-icon",3),t.NdJ("click",function(){return o.onClose()}),t.qZA()()()(),t.TgZ(7,"ion-content")(8,"div",4)(9,"h1",5),t._uU(10,"GURUKUL"),t.qZA()(),t._UZ(11,"hr",6),t.YNc(12,C,2,1,"ng-container",7),t.qZA(),t.TgZ(13,"ion-footer",8)(14,"ion-toolbar")(15,"ion-button",9),t.NdJ("click",function(){return o.onLogout()}),t._UZ(16,"ion-icon",10),t.TgZ(17,"span",11),t._uU(18,"Logout"),t.qZA()()()()(),t.TgZ(19,"ion-header",12)(20,"ion-toolbar")(21,"ion-item",13),t._UZ(22,"ion-img",14),t.TgZ(23,"ion-label",15),t._uU(24,"GURUKUL"),t.qZA(),t.TgZ(25,"ion-img",16),t.NdJ("click",function(){return o.onProfile()}),t.qZA()()()(),t.TgZ(26,"ion-content",17),t.YNc(27,M,4,0,"div",18)(28,v,2,2,"ion-list",19),t.TgZ(29,"ion-alert",20),t.NdJ("didDismiss",function(){return o.toggleNotificationDetailAlert("")}),t.qZA()(),t._UZ(30,"app-footer")),2&a&&(t.xp6(12),t.Q6J("ngIf",o.userData),t.xp6(),t.Q6J("translucent",!0),t.xp6(6),t.Q6J("translucent",!0),t.xp6(6),t.Q6J("src",o.userImg?o.userImg:"assets/img/user.png"),t.xp6(),t.Q6J("fullscreen",!0),t.xp6(),t.Q6J("ngIf",0==o.notifications.length),t.xp6(),t.Q6J("ngIf",o.notifications.length>0),t.xp6(),t.Q6J("isOpen",o.isNotificationAlertOpen)("header",null==o.singleNotificationData?null:o.singleNotificationData.shortenedsubject)("message",null==o.singleNotificationData?null:o.singleNotificationData.fullmessage)("buttons",o.alertButtons))},dependencies:[r.sg,r.O5,s.Ge,s.BJ,s.YG,s.W2,s.fr,s.Gu,s.gu,s.Xz,s.Ie,s.Q$,s.q_,s.z0,s.uN,s.sr,O.S,r.uU],styles:[".title[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Inter,sans-serif;font-size:20px;font-weight:500}.main_p[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:25px;font-weight:500}.main[_ngcontent-%COMP%]{margin-top:50%}.image[_ngcontent-%COMP%]{display:inline-block;width:40%;height:40%}@media screen and (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:18px}.main_p[_ngcontent-%COMP%]{font-size:20px}.main[_ngcontent-%COMP%]{margin-top:30%}.image[_ngcontent-%COMP%]{width:40%;height:auto}}@media screen and (min-width: 577px) and (max-width: 768px){.title[_ngcontent-%COMP%], .main_p[_ngcontent-%COMP%]{font-size:22px}.main[_ngcontent-%COMP%]{margin-top:40%}.image[_ngcontent-%COMP%]{width:40%}}ion-avatar[_ngcontent-%COMP%]{--border-radius: 4px}.header[_ngcontent-%COMP%]{margin:0;font-size:16px;font-family:Inter,sans-serif;font-weight:600}.profile_img[_ngcontent-%COMP%]{border-radius:50%!important;overflow:hidden;object-fit:cover;height:auto;width:40px}.profile_heading[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:20px;font-weight:500}.profile_title[_ngcontent-%COMP%]{color:#000;font-family:Inter,sans-serif;font-size:20px;font-weight:500}.profile_link[_ngcontent-%COMP%]{color:#3553a1;font-family:Inter,sans-serif;font-size:17px;font-weight:500}.profile_hr[_ngcontent-%COMP%]{border:1px solid #dadada;background:#dadada;margin:0}.profile_name[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;font-size:18px;font-weight:600}.profile_gardes[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:18px;font-weight:500}.setting_icon[_ngcontent-%COMP%]{font-size:25px}.logout_btn[_ngcontent-%COMP%]{border-radius:5px}.logout_span[_ngcontent-%COMP%]{color:#fff;font-family:Inter,sans-serif;font-size:16px;font-weight:700;text-transform:capitalize}@media only screen and (max-width: 767px){.header[_ngcontent-%COMP%]{font-size:14px}.anim_p[_ngcontent-%COMP%]{font-size:12px}.anim_text[_ngcontent-%COMP%]{font-size:10px}.card_title[_ngcontent-%COMP%]{font-size:16px}.card_text[_ngcontent-%COMP%]{font-size:10px}.percentage_display[_ngcontent-%COMP%]{font-size:8px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .btn_ok[_ngcontent-%COMP%], .btn_cancel[_ngcontent-%COMP%], .sub[_ngcontent-%COMP%]{font-size:14px}.header_sub[_ngcontent-%COMP%]{font-size:12px}.menu_heading[_ngcontent-%COMP%]{font-size:14px}.menu_body[_ngcontent-%COMP%]{font-size:13px}.content_p[_ngcontent-%COMP%]{font-size:12px}.profile_heading[_ngcontent-%COMP%], .profile_title[_ngcontent-%COMP%]{font-size:18px}.profile_link[_ngcontent-%COMP%]{font-size:15px}.profile_name[_ngcontent-%COMP%], .profile_gardes[_ngcontent-%COMP%]{font-size:16px}.logout_span[_ngcontent-%COMP%]{font-size:14px}}"]})}return i})()}];let T=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(N),g.Bz]})}return i})();var U=e(6208);let z=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[r.ez,d.u5,s.Pc,T,U.m]})}return i})()},6208:(h,l,e)=>{e.d(l,{m:()=>f});var r=e(6814),d=e(3134),s=e(95),g=e(9212);let f=(()=>{class u{static#t=this.\u0275fac=function(p){return new(p||u)};static#n=this.\u0275mod=g.oAB({type:u});static#i=this.\u0275inj=g.cJS({imports:[r.ez,d.Pc,s.UX,s.UX]})}return u})()}}]);