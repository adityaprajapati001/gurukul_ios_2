"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1322],{1322:(O,p,s)=>{s.r(p),s.d(p,{AttemptSummaryPageModule:()=>T});var g=s(6814),h=s(95),i=s(3134),u=s(4875),d=s(5861),y=s(553),t=s(9212),_=s(7346),v=s(653),x=s(9862);function b(o,f){if(1&o&&(t.TgZ(0,"ion-list",20)(1,"ion-item")(2,"ion-label",21),t._uU(3),t.qZA()()()),2&o){const e=f.$implicit;t.xp6(3),t.Oqu(e.heading)}}function C(o,f){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label",22),t._uU(2),t.qZA(),t.TgZ(3,"ion-label")(4,"div",23),t.NdJ("click",function(){const n=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.goToQues(n))}),t.TgZ(5,"p",22),t._uU(6),t.qZA(),t._UZ(7,"ion-icon",24),t.qZA()()()}if(2&o){const e=f.$implicit;t.xp6(2),t.Oqu(e.slot),t.xp6(4),t.Oqu("-1"!=e.answer?"Answered":"Not Answered")}}const P=[{path:"",component:(()=>{class o{constructor(e,a,l,n,r,c,A){this.menuCtrl=e,this.dataService=a,this.router=l,this.route=n,this.http=r,this.loadingController=c,this.navCtrl=A,this.quizContent=[{id:1,heading:"Question 1",en:"If you know the sender you, you can click the email link",hn:"( \u092f\u0926\u093f \u0906\u092a \u0908\u092e\u0947\u0932 \u092d\u0947\u091c\u0928\u0947 \u0935\u093e\u0932\u0947 \u0915\u094b \u091c\u093e\u0928\u0924\u0947 \u0939\u0948 \u0924\u094b \u0906\u092a \u0908\u092e\u0947\u0932 \u092d\u0947\u091c\u0928\u0947 \u0935\u093e\u0932\u0947 \u0915\u0947 \u0932\u093f\u0902\u0915 \u092a\u0930 \u0915\u094d\u0932\u093f\u0915 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948 ? )",a:"True",b:"False",selecetdValue:null},{id:2,heading:"Question 2",en:"If you know the sender you, you can click the email link",hn:"( \u092f\u0926\u093f \u0906\u092a \u0908\u092e\u0947\u0932 \u092d\u0947\u091c\u0928\u0947 \u0935\u093e\u0932\u0947 \u0915\u094b \u091c\u093e\u0928\u0924\u0947 \u0939\u0948 \u0924\u094b \u0906\u092a \u0908\u092e\u0947\u0932 \u092d\u0947\u091c\u0928\u0947 \u0935\u093e\u0932\u0947 \u0915\u0947 \u0932\u093f\u0902\u0915 \u092a\u0930 \u0915\u094d\u0932\u093f\u0915 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948 ? )",a:"True",b:"False",selecetdValue:null}],this.route.queryParams.subscribe(m=>{console.log(m),m&&m.data&&(this.attemptData=JSON.parse(m.data),this.attemptId=JSON.parse(m.id),console.log(this.attemptData))})}ngOnInit(){}onBookmark(){this.menuCtrl.open("attemptMenu")}onClose(){this.menuCtrl.close("attemptMenu")}onSubmit(){var e=this;return(0,d.Z)(function*(){let a=0;console.log(e.attemptData);const l=yield e.loadingController.create({message:"Fetching Result, It will take some time...",duration:500*e.attemptData.length});yield l.present();for(let n=e.attemptData.length-1;n>=0;n--)if(-1!==Number(e.attemptData[n].answer)){a=n;break}console.log(a);for(let n=0;n<e.attemptData.length;n++)console.log("attempt data----",e.attemptData[n].answer),-1!==Number(e.attemptData[n].answer)&&(console.log("value of i------",n),console.log("check"),setTimeout(()=>{const r=localStorage.getItem("auth-token");e.http.get(`https://gurukul.skfin.in/webservice/rest/server.php?attemptid=${e.attemptId}&data[0][name]=slot&data[0][value]=${e.attemptData[n].slot}&data[1][name]=q${e.attemptData[n].questionId.split("-")[1]}:${e.attemptData[n].slot}_answer&data[1][value]=${e.attemptData[n].answer}&data[2][name]=q${e.attemptData[n].questionId.split("-")[1]}:${e.attemptData[n].slot}_:sequencecheck&data[2][value]=1&finishattempt=${n===a?1:0}&wsfunction=mod_quiz_process_attempt&wstoken=${r}`).subscribe(c=>{console.log(c)},c=>{console.error("HTTP request failed:",c)})},500*n));setTimeout(()=>{localStorage.getItem("auth-token"),e.http.get(`https://gurukul.skfin.in/webservice/rest/server.php?moodlewsrestformat=json&wsfunction=mod_quiz_get_attempt_review&wstoken=${y.N.adminToken}&attemptid=${e.attemptId}&page=1`).subscribe(r=>{e.attempResult=r,console.log(e.attempResult)})},500*e.attemptData.length),setTimeout((0,d.Z)(function*(){yield l.dismiss(),console.log(e.attempResult),e.dataService.setIndexActivityContent(e.attempResult);let n={queryParams:{quizResult:JSON.stringify(e.attempResult)}};e.router.navigate(["/home"],n).then(()=>{window.scrollTo(0,0)})}),600*e.attemptData.length)})()}goToQues(e){console.log(e);let a={queryParams:{data:JSON.stringify(this.attemptId)}};this.router.navigate(["quiz-content-update"],a)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(i._q),t.Y36(v.D),t.Y36(u.F0),t.Y36(u.gz),t.Y36(x.eN),t.Y36(i.HT),t.Y36(_.SH))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-attempt-summary"]],decls:30,vars:5,consts:[["side","end","contentId","main-content","menuId","attemptMenu"],[1,"menu_header"],[1,"menu_title"],["slot","end","size","large","name","close-sharp",1,"p-1",3,"click"],["lines","none","class","p-0",4,"ngFor","ngForOf"],[3,"translucent"],["color","primary","slot","start","defaultHref",""],[1,"title"],["id","main-content",3,"fullscreen"],[1,"main","h-100","position-relative"],[1,"ion-padding"],[1,"p-3","mb-3"],[1,"card_head","mt-0"],["lines","none",1,"mb-3"],[1,"list_left"],[1,"list_ryt"],[4,"ngFor","ngForOf"],[1,"p-1"],["color","success","expand","block",1,"btn_nxt",3,"click"],[1,"span_nxt"],["lines","none",1,"p-0"],[1,"menu_label"],[1,"label_left"],[1,"d-flex","align-items-center","justify-content-between",3,"click"],["color","primary","slot","end","name","chevron-forward-sharp"]],template:function(a,l){1&a&&(t.TgZ(0,"ion-menu",0)(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title",2),t._uU(4,"Quiz Navigation"),t.qZA(),t.TgZ(5,"ion-icon",3),t.NdJ("click",function(){return l.onClose()}),t.qZA()()(),t.TgZ(6,"ion-content"),t.YNc(7,b,4,1,"ion-list",4),t.qZA()(),t.TgZ(8,"ion-header",5)(9,"ion-toolbar"),t._UZ(10,"ion-back-button",6)(11,"ion-title",7),t.qZA()(),t.TgZ(12,"ion-content",8)(13,"div",9)(14,"div",10)(15,"ion-card",11)(16,"h1",12),t._uU(17,"Summary of Attempt"),t.qZA(),t.TgZ(18,"ion-list",13)(19,"ion-item")(20,"ion-label",14),t._uU(21,"#"),t.qZA(),t.TgZ(22,"ion-label",15),t._uU(23,"Summary"),t.qZA()(),t.YNc(24,C,8,2,"ion-item",16),t.qZA()()()()(),t.TgZ(25,"ion-footer",5)(26,"ion-toolbar",17)(27,"ion-button",18),t.NdJ("click",function(){return l.onSubmit()}),t.TgZ(28,"span",19),t._uU(29,"Submit all and Finish"),t.qZA()()()()),2&a&&(t.xp6(7),t.Q6J("ngForOf",l.quizContent),t.xp6(),t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(12),t.Q6J("ngForOf",l.attemptData),t.xp6(),t.Q6J("translucent",!0))},dependencies:[g.sg,i.YG,i.PM,i.W2,i.fr,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.z0,i.wd,i.sr,i.oU],styles:[".title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:20px;font-weight:500}.time_h[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:20px;font-weight:300}.time_p[_ngcontent-%COMP%]{color:#3553a1;font-family:Inter,sans-serif;font-size:15px;font-weight:700}.card[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #dcdcdc}.card_head[_ngcontent-%COMP%]{color:#3553a1;font-family:Inter,sans-serif;font-size:18px;font-weight:700}.card_en[_ngcontent-%COMP%]{margin:0;color:#464646;font-family:Inter,sans-serif;font-size:16px;font-weight:400}.card_hn[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px;font-weight:400}.clear[_ngcontent-%COMP%]{--border-radius: 4px;--border: 1px solid #3553a1;--background: #fff}.span_clear[_ngcontent-%COMP%]{color:#3553a1;font-family:Inter,sans-serif;font-size:16px;font-weight:600;text-transform:capitalize}.btn_nxt[_ngcontent-%COMP%]{border-radius:4px}.span_nxt[_ngcontent-%COMP%]{color:#fff;font-family:Inter,sans-serif;font-size:18px;font-weight:400;text-transform:capitalize}.list_left[_ngcontent-%COMP%], .list_ryt[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:16px;font-weight:700}.label_left[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:16px;font-weight:400}.deadline[_ngcontent-%COMP%]{color:#464646;font-family:Inter,sans-serif;font-size:16px;font-weight:400}.menu_title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:20px;font-weight:500}.menu_label[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:18px;font-weight:500}.r0[_ngcontent-%COMP%]{display:flex!important;align-items:center}"]})}return o})()}];let w=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(P),u.Bz]})}return o})(),T=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[g.ez,h.u5,i.Pc,w]})}return o})()}}]);